<view class="quote-card {{item.quote.shareDate && item.quote.shareDate.isManuallyOfflined ? 'quote-card--offlined' : ''}}">
  <view class="quote-card__body">
    <!-- Title Section -->
    <view class="quote-card__title-section">
      <view class="quote-card__title">{{item.quote.projectName}}</view>
      <view class="quote-card__status-badge {{item.quote.shareDate && item.quote.shareDate.isManuallyOfflined ? 'quote-card__status-badge--offlined' : 'quote-card__status-badge--online'}}">
        {{item.quote.shareDate && item.quote.shareDate.isManuallyOfflined ? '已下架' : '展示中'}}
      </view>
    </view>
    <!-- Header: Status and Actions -->
    <view class="quote-card__header">
      <view class="quote-card__stat-compact">
        <view class="quote-card__stat-label">阅读量</view>
        <view class="quote-card__stat-value">{{item.viewCountDisplay}}</view>
      </view>
      <view class="quote-card__actions">
        <button class="quote-card__action-btn" bindtap="onPreviewTap">
          <span class="icon--eye icon-size-18"></span>
        </button>
        <button class="quote-card__action-btn" open-type="share" data-quote-id="{{item.quoteId}}">
          <span class="icon--share icon-size-18"></span>
        </button>
        <button class="quote-card__action-btn" bindtap="onMoreTap">
          <span class="icon--more icon-size-18"></span>
        </button>
      </view>
    </view>
    <!-- Footer -->
    <view class="quote-card__footer">
      <view class="quote-card__creation-date">有效期至 {{item.expireTimeText || '—'}}</view>
      <button class="quote-card__detail-link" bindtap="onToggleViewLogTap">
        {{showViewLog ? '收起' : '查看阅读详情'}}
      </button>
    </view>
    <!-- View Log (Expanded) -->
    <view wx:if="{{showViewLog && item.viewLogTop10 && item.viewLogTop10.length}}" class="quote-card__view-log">
      <view class="quote-card__view-log-header">最近阅读记录</view>
      <view class="quote-card__view-log-list">
        <block wx:for="{{item.viewLogTop10}}" wx:for-item="log" wx:for-index="logIndex" wx:key="logIndex">
          <view class="quote-card__view-log-item">
            <text class="quote-card__view-log-bullet">•</text>
            <text class="quote-card__view-log-text">{{log.displayText}}</text>
          </view>
        </block>
      </view>
    </view>
  </view>
</view>