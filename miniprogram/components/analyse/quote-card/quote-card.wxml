<view class="quote-card {{item.removeFlag ? 'quote-card--offlined' : ''}} {{showMoreMenu ? 'quote-card--active' : ''}}">
  <view class="quote-card__body">
    <!-- Title Section -->
    <view class="quote-card__title-section">
      <view class="quote-card__title">{{item.projectName}}</view>
      <view class="quote-card__status-badge {{item.removeFlag ? 'quote-card__status-badge--offlined' : 'quote-card__status-badge--online'}}">
        {{item.removeFlag ? '已下架' : '展示中'}}
      </view>
    </view>
    <!-- Header: Status and Actions -->
    <view class="quote-card__header">
      <view class="quote-card__stat-compact">
        <view class="quote-card__stat-label">阅读量</view>
        <view class="quote-card__stat-value">{{item.viewCount}}</view>
      </view>
      <view class="quote-card__actions">
        <button class="quote-card__action-btn {{item.removeFlag ? 'quote-card__action-btn--disabled' : ''}}" bindtap="onPreviewTap" disabled="{{item.removeFlag}}">
          <span class="icon--eye icon-size-18"></span>
        </button>
        <button class="quote-card__action-btn {{item.removeFlag ? 'quote-card__action-btn--disabled' : ''}}" open-type="share" data-quote-id="{{item.id}}" disabled="{{item.removeFlag}}">
          <span class="icon--share icon-size-18"></span>
        </button>
        <view class="quote-card__more-wrapper">
          <button class="quote-card__action-btn" bindtap="onMoreTap">
            <span class="icon--more icon-size-18"></span>
          </button>
          <view wx:if="{{showMoreMenu}}" class="quote-card__menu">
            <view wx:if="{{!item.removeFlag}}" class="quote-card__menu-item" bindtap="onOfflineTap">
              <text class="icon--eye-off icon-size-18"></text>
              <text>下架报价</text>
            </view>
            <view wx:if="{{item.removeFlag}}" class="quote-card__menu-item" bindtap="onOnlineTap">
              <text class="icon--recycle icon-size-18"></text>
              <text>重新上架</text>
            </view>
            <view class="quote-card__menu-item quote-card__menu-item--danger" bindtap="onDeleteTap">
              <text class="icon--delete-16-regular icon-size-18"></text>
              <text>删除报价</text>
            </view>
          </view>
        </view>
      </view>
    </view>
    <!-- Menu Backdrop -->
    <view wx:if="{{showMoreMenu}}" class="quote-card__menu-backdrop" bindtap="onCloseMenu"></view>
    <!-- Footer -->
    <view class="quote-card__footer">
      <view class="quote-card__creation-date">有效期至 {{expiresAtText}}</view>
      <button class="quote-card__detail-link" bindtap="onToggleViewLogTap">
        {{showViewLog ? '收起' : '查看阅读详情'}}
      </button>
    </view>
    <!-- View Log (Expanded) -->
    <view wx:if="{{showViewLog && viewLogList.length}}" class="quote-card__view-log">
      <view class="quote-card__view-log-header">最近阅读记录</view>
      <view class="quote-card__view-log-list">
        <block wx:if="viewLogList" wx:for="{{viewLogList}}" wx:for-item="log" wx:for-index="logIndex" wx:key="logIndex">
          <view class="quote-card__view-log-item">
            <view class="quote-card__view-log-marker">
              <view class="quote-card__view-log-dot"></view>
              <view wx:if="{{logIndex < item.viewLogs.length - 1}}" class="quote-card__view-log-line"></view>
            </view>
            <view class="quote-card__view-log-content">
              <text class="quote-card__view-log-date">{{log.viewTimeStr}}</text>
              <text class="quote-card__view-log-text">{{log.viewTextStr}}</text>
            </view>
          </view>
        </block>
      </view>
    </view>
  </view>
</view>