<view class="quote-card {{item.quote.shareDate && item.quote.shareDate.isManuallyOfflined ? 'quote-card--offlined' : ''}} {{showMoreMenu ? 'quote-card--active' : ''}}">
  <view class="quote-card__body">
    <!-- Title Section -->
    <view class="quote-card__title-section">
      <view class="quote-card__title">{{item.quote.projectName}}</view>
      <view class="quote-card__status-badge {{item.quote.shareDate && item.quote.shareDate.isManuallyOfflined ? 'quote-card__status-badge--offlined' : 'quote-card__status-badge--online'}}">
        {{item.quote.shareDate && item.quote.shareDate.isManuallyOfflined ? 'å·²ä¸‹æ¶' : 'å±•ç¤ºä¸­'}}
      </view>
    </view>
    <!-- Header: Status and Actions -->
    <view class="quote-card__header">
      <view class="quote-card__stat-compact">
        <view class="quote-card__stat-label">é˜…è¯»é‡</view>
        <view class="quote-card__stat-value">{{item.viewCountDisplay}}</view>
      </view>
      <view class="quote-card__actions">
        <button class="quote-card__action-btn" bindtap="onPreviewTap" disabled="{{item.quote.shareDate && item.quote.shareDate.isManuallyOfflined}}">
          <span class="icon--eye icon-size-18"></span>
        </button>
        <button class="quote-card__action-btn" open-type="share" data-quote-id="{{item.quoteId}}" disabled="{{item.quote.shareDate && item.quote.shareDate.isManuallyOfflined}}">
          <span class="icon--share icon-size-18"></span>
        </button>
        <view class="quote-card__more-wrapper">
          <button class="quote-card__action-btn" bindtap="onMoreTap">
            <span class="icon--more icon-size-18"></span>
          </button>
          <!-- More Menu Popover -->
          <view wx:if="{{showMoreMenu}}" class="quote-card__menu">
            <view wx:if="{{!(item.quote.shareDate && item.quote.shareDate.isManuallyOfflined)}}" class="quote-card__menu-item" bindtap="onOfflineTap">
              <text class="quote-card__menu-icon">ğŸ‘ï¸â€ğŸ—¨ï¸</text>
              <text>ä¸‹æ¶æŠ¥ä»·</text>
            </view>
            <view class="quote-card__menu-item quote-card__menu-item--danger" bindtap="onDeleteTap">
              <text class="quote-card__menu-icon">ğŸ—‘ï¸</text>
              <text>åˆ é™¤æŠ¥ä»·</text>
            </view>
          </view>
        </view>
      </view>
    </view>
    <!-- Menu Backdrop -->
    <view wx:if="{{showMoreMenu}}" class="quote-card__menu-backdrop" bindtap="onCloseMenu"></view>
    <!-- Footer -->
    <view class="quote-card__footer">
      <view class="quote-card__creation-date">æœ‰æ•ˆæœŸè‡³ {{item.expireTimeText || 'â€”'}}</view>
      <button class="quote-card__detail-link" bindtap="onToggleViewLogTap">
        {{showViewLog ? 'æ”¶èµ·' : 'æŸ¥çœ‹é˜…è¯»è¯¦æƒ…'}}
      </button>
    </view>
    <!-- View Log (Expanded) -->
    <view wx:if="{{showViewLog && item.viewLogTop10 && item.viewLogTop10.length}}" class="quote-card__view-log">
      <view class="quote-card__view-log-header">æœ€è¿‘é˜…è¯»è®°å½•</view>
      <view class="quote-card__view-log-list">
        <block wx:for="{{item.viewLogTop10}}" wx:for-item="log" wx:for-index="logIndex" wx:key="logIndex">
          <view class="quote-card__view-log-item">
            <text class="quote-card__view-log-bullet">â€¢</text>
            <text class="quote-card__view-log-text">{{log.displayText}}</text>
          </view>
        </block>
      </view>
    </view>
  </view>
</view>